SELECTIVE REPEAT CODE:-
#include<stdio.h>
#include<conio.h>
#include<math.h>
#include<graphics.h>
#include<dos.h>
int main(){
int gd = DETECT,gm,x,i,y;
initgraph(&gd,&gm,"C://TURBOC3//BGI");
for(i=0;i<330;i++){
outtextxy(160,30,"B-16-Selective Repeat Sliding window protocol simulation");
rectangle(50,50,150,100);
outtextxy(75,70,"Sender");
rectangle(500,50,600,100);
outtextxy(520,70,"Receiver");
line(100,100,100,470);
line(550,100,550,470);
rectangle(120+i,150,200+i,170);
outtextxy(125+i,140,"Data Frame");
line(200+i,160,530,160);
line(520,150,530,160); //Prints Arrow
line(520,170,530,160);
line(140+i,150,140+i,170);
line(160+i,150,160+i,170);
line(180+i,150,180+i,170);
outtextxy(129+i,155,"1");
outtextxy(149+i,155,"2");
outtextxy(169+i,155,"3");
outtextxy(189+i,155,"4");
delay(10);
cleardevice();}
// Acknowledgement frame
for(i=330;i>=0;i--){
outtextxy(160,30,"B-16-Selective Repeat Sliding window protocol simulation");
rectangle(50,50,150,100);   //Draws sender and receiver blocks
outtextxy(75,70,"Sender");
rectangle(500,50,600,100);
outtextxy(520,70,"Receiver");
line(100,100,100,470);
line(550,100,550,470);
rectangle(120+i,200,180+i,220);
outtextxy(115+i,190,"Acknowledgement1");
line(120+i,210,100,210);
line(100,210,110,220);
line(100,210,110,200);
line(140+i,200,140+i,220);
line(160+i,200,160+i,220);
line(180+i,200,180+i,220);
outtextxy(129+i,205,"1");
outtextxy(149+i,205,"3");
outtextxy(169+i,205,"4");
delay(10);
cleardevice();}
 for(i=0;i<330;i++)  {
outtextxy(160,30,"B-16-Selective Repeat Sliding window protocol simulation");
rectangle(50,50,150,100);   //Draws sender and receiver blocks
outtextxy(75,70,"Sender");
rectangle(500,50,600,100);
outtextxy(520,70,"Receiver");
line(100,100,100,470);
line(550,100,550,470);
rectangle(120+i,250,140+i,270);
outtextxy(115+i,230,"Retransmit lost frame ");
line(140+i,260,530,260);
line(520,250,530,260); //Prints Arrow
line(520,270,530,260);
line(140+i,250,140+i,270);
outtextxy(129+i,255,"2");
delay(10);
cleardevice();
}
 // Acknowledgement nnumber 2  frame
for(i=330;i>=0;i--)  {
outtextxy(160,30,"B-16-Selective Repeat Sliding window protocol simulation");
rectangle(50,50,150,100);   //Draws sender and receiver blocks
outtextxy(75,70,"Sender");
rectangle(500,50,600,100);
outtextxy(520,70,"Receiver");
line(100,100,100,470);
line(550,100,550,470);
rectangle(120+i,300,140+i,320);
outtextxy(115+i,290,"Acknowledgement2");
line(120+i,310,100,310);
line(100,310,110,320);
line(100,310,110,300);
line(140+i,300,140+i,320);
outtextxy(129+i,305,"2");delay(20);
cleardevice();}getch();return 0;}
