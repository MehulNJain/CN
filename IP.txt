#include <stdio.h>

int main() {
    int I1 = 0, I2 = 0, I3 = 0, I4 = 0;
    char ip[16];

    printf("> Enter the IP address (format: X.X.X.X):\n");
    scanf("%15s", ip);

    if (sscanf(ip, "%d.%d.%d.%d", &I1, &I2, &I3, &I4) != 4) {
        printf("> Invalid IP address format.\n");
        return 1;
    }

    if (I1 < 0 || I1 > 255 || I2 < 0 || I2 > 255 || I3 < 0 || I3 > 255 || I4 < 0 || I4 > 255) {
        printf("> Invalid IP address.\n");
        return 1;
    }

    if (I1 == 0) {
        printf("\n> The given IP address belongs to the All-Zeros Address.\n");
        printf("> Reserved for communication.\n");
        printf("> The block - %d.0.0.0/32\n", I1);
    }
    else if (I1 == 127) {
        printf("\n> The given IP address belongs to the Loopback Address.\n");
        printf("> Used by a client process to send messages to a server process.\n");
        printf("> The block - %d.0.0.0/8\n", I1);
    }
    else if (I1 == 255) {
        printf("\n> The given IP address belongs to the All-Ones Address.\n");
        printf("> Reserved for limited broadcast.\n");
        printf("> The block - %d.255.255.255/32\n", I1);
    }
    else if (I1 >= 1 && I1 <= 127) {
        printf("\n> The given IP address belongs to Class A.\n");
        printf("> The subnet mask is: 255.0.0.0\n");
        printf("> The first address is: %d.0.0.0\n", I1);
        printf("> The last address is: %d.255.255.255\n", I1);
    }
    else if (I1 >= 128 && I1 <= 191) {
        printf("\n> The given IP address belongs to Class B.\n");
        printf("> The subnet mask is: 255.255.0.0\n");
        printf("> The first address is: %d.%d.0.0\n", I1, I2);
        printf("> The last address is: %d.%d.255.255\n", I1, I2);
    }
    else if (I1 >= 192 && I1 <= 223) {
        printf("\n> The given IP address belongs to Class C.\n");
        printf("> The subnet mask is: 255.255.255.0\n");
        printf("> The first address is: %d.%d.%d.0\n", I1, I2, I3);
        printf("> The last address is: %d.%d.%d.255\n", I1, I2, I3);
    }
    else if (I1 >= 224 && I1 <= 239) {
        printf("\n> The given IP address belongs to Class D.\n");
        printf("> All 28 bits are reserved for multicasting.\n");
    }
    else {
        printf("\n> The given IP address belongs to Class E.\n");
        printf("> This IP address range is reserved for future purposes.\n");
    }

    return 0;
}